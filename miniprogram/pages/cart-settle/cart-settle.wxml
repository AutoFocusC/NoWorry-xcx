<view class="page">
  <view>
    <view class="title">
      <van-icon
        class="title-img"
        size="20px"
        name="/static/profile/line.png"
      />
      <view class="title-word">联系方式</view>
    </view>
    <view class="info-list">
      <view class="info-item">
        <view>姓名</view>
        <view>
          <input
            bind:tap="inp"
            model:value="{{userName}}"
            placeholder="请输入"
            id="name"
            focus="{{focusId=='name'}}"
          />
        </view>
      </view>
      <view class="info-item">
        <view>手机号</view>
        <view>
          <input
            bind:tap="inp"
            model:value="{{phone}}"
            placeholder="请输入"
            id="phone"
            focus="{{focusId=='phone'}}"
          />
        </view>
      </view>
      <view class="info-item">
        <view>邮箱号</view>
        <view>
          <input
            bind:tap="inp"
            model:value="{{email}}"
            placeholder="请输入"
            id="email"
            focus="{{focusId=='email'}}"
          />
        </view>
      </view>
      <view class="info-item">
        <view>所在城市</view>
        <view>
          <input
            bind:tap="inp"
            model:value="{{liveCity}}"
            placeholder="请输入"
            id="liveCity"
            focus="{{focusId=='liveCity'}}"
          />
        </view>
      </view>
    </view>
  </view>
  <view>
    <view class="title">
      <van-icon
        class="title-img"
        size="20px"
        name="/static/profile/line.png"
      />
      <view class="title-word">支付方式</view>
    </view>
    <view class="opea-list">
      <picker
        bindchange="bindPickerChange"
        value="{{payIndex}}"
        range="{{payArray}}"
      >
        <view class="opea-item">
          <view>{{payArray[payIndex]}}</view>
          <van-icon size="15px" name="/static/profile/return.png" />
        </view>
      </picker>

    </view>
  </view>
  <view>
    <view class="title">
      <van-icon
        class="title-img"
        size="20px"
        name="/static/profile/line.png"
      />
      <view class="title-word">订单详情</view>
    </view>
  </view>
  <view class="commodity-list">
    <view
      class="commodity-item"
      wx:for="{{carts}}"
      wx:key="index"
    >
      <view class="item-image">
        <van-image
          show-loading="{{false}}"
          width="100%"
          height="30vw"
          src="{{item.picLink}}"
        />
      </view>
      <view>
        <view class="item-info">
          <view>{{item.commodityName}}</view>
          <view>{{item.commodityBrief}}</view>
        </view>
        <view class="item-pm">
          <view class="item-quantity">x{{item.quantity}}</view>
          <view class="item-price">£{{item.currentPrice}}</view>
        </view>
      </view>
    </view>
  </view>
  <view wx:if="{{favourableTotal>0}}">
    <view class="title">
      <van-icon
        class="title-img"
        size="20px"
        name="/static/profile/line.png"
      />
      <view class="title-word">活动优惠</view>
      <view style="margin-left:60vw;line-height: 24px;"></view>
    </view>
    <view class="info-list">
      <view class="info-item" wx:for="{{favourable}}">
        <view>{{item.title}}</view>
        <view>
          <input
            bindtap="inp"
            bindblur="inp"
            bindconfirm="inp"
            bindfocus="inp"
            model:value="- £{{item.amount}}"
            disabled="{{true}}"
          />
        </view>
      </view>
    </view>
  </view>
  <view class="slider"></view>
  <view class="protocol">
    <van-icon
      bind:tap="agreeChange"
      wx:if="{{agree}}"
      size="16"
      name="/static/cart/agree-protocol.png"
    ></van-icon>
    <van-icon
      bind:tap="agreeChange"
      wx:else
      size="16"
      name="/static/cart/disagree-protocol.png"
    ></van-icon>
    <view class="protocol-text">已同意
      <span bind:tap="toNotice" class="span">《No Worry用户协议条款》</span>
      和
      <span bind:tap="toPrivacy" class="span">《隐私条款》</span>
    </view>
  </view>
  <view class="subtotal">
    <view class="subtotal-number">
      <view class="price-all">
        <view class="price-origin">
          <span>合计：</span>
          <span>£{{totalPriceShow}}</span>
        </view>
        <view class="price-conver">GBP {{totalPriceShow}}≈CNY {{totolPriceCNY}}</view>
      </view>
      <view class="settle">
        <button class="button {{agree&&userName&&phone&&email&&liveCity?'':'un'}}allow" bind:tap="submitOrder">
          提交订单
        </button>
      </view>
    </view>
  </view>
</view>

